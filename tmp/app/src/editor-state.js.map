{"version":3,"sources":["../../../app/src/editor-state.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAGA,SAAS,MAAT,CAAgB,GAAhB,EAAoB;;;AAChB,UAAM,QAAQ,iDAAP,KAAe,QAAf,GAA0B,GAA3B,GAAiC,EAAjC,CADU;AAEhB,WAAQ,OAAO,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAAwB,UAAC,IAAD,EAAM,GAAN,EAAc;AAC1C,YAAI,OAAO,MAAK,GAAL,CAAP,KAAqB,WAArB,EAAkC;AAClC,iBAAK,GAAL,IAAY,MAAK,GAAL,CAAZ,CADkC;SAAtC;AAGA,eAAO,IAAP,CAJ0C;KAAd,EAK9B,EALM,CAAR,CAFgB;CAApB;;IAWqB;AACjB,aADiB,WACjB,CAAY,KAAZ,EAAmB;8BADF,aACE;;AAEf,gBAAQ,SAAS,EAAT,CAFO;AAGf,aAAK,KAAL,GAAa,MAAM,KAAN;KAHjB;AAAmB;iBADF;;gCAQV;AACN,mBAAQ,OAAO,IAAP,CAAR,CADM;;;;8BAID,OAAM;AACR,mBAAO,OAAO,MAAP,CAAc,IAAd,EAAmB,OAAO,KAAP,CAAnB,CAAP,CADQ;;;;6BAGN,OAAM;;;AACR,mBAAO,IAAP,CAAY,IAAZ,EAAkB,OAAlB,CAA0B,UAAC,GAAD,EAAS;AAC/B,uBAAK,GAAL,IAAY,OAAQ,OAAK,GAAL,CAAP,KAAqB,WAArB,GAAoC,MAAM,GAAN,CAArC,GAAkD,OAAK,GAAL,CAAlD,CADmB;aAAT,CAA1B,CADQ;AAIR,mBAAO,IAAP,CAJQ;;;;gCAMJ,OAAM;AACV,iBAAK,KAAL,GAAa,MAAM,KAAN,IAAe,KAAK,KAAL,CADlB;;;;WArBG","file":"editor-state.js","sourcesContent":["/*\r\n* Remove undefined keys and return a POJO;\r\n*/\r\nfunction _prune(obj){\r\n    obj = (typeof obj === \"object\")? obj : {};\r\n    return  Object.keys(obj).reduce((pojo,key) => {\r\n        if (typeof this[key] !== 'undefined') {\r\n            pojo[key] = this[key];\r\n        }\r\n        return pojo;\r\n    },{});\r\n}\r\n\r\n\r\nexport default class EditorState {\r\n    constructor(state) {\r\n\r\n        state = state || {};\r\n        this.image = state.image; //pixels\r\n\r\n    }\r\n\r\n    prune(){\r\n     return  _prune(this);\r\n    }\r\n\r\n    merge(state){\r\n        return Object.assign(this,_prune(state));\r\n    }\r\n    fill (state){\r\n        Object.keys(this).forEach((key) => {\r\n            this[key] = (typeof this[key] === \"undefined\") ? state[key] : this[key];\r\n        });\r\n        return this;\r\n    }\r\n    combine(state){\r\n        this.image = state.image || this.image;\r\n\r\n    }\r\n}"]}