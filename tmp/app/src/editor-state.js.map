{"version":3,"sources":["../../../app/src/editor-state.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAGA,SAAS,MAAT,CAAgB,GAAhB,EAAoB;;;AAChB,UAAM,QAAQ,iDAAP,KAAe,QAAf,GAA0B,GAA3B,GAAiC,EAAjC,CADU;AAEhB,WAAQ,OAAO,IAAP,CAAY,GAAZ,EAAiB,MAAjB,CAAwB,UAAC,IAAD,EAAM,GAAN,EAAc;AAC1C,YAAI,OAAO,MAAK,GAAL,CAAP,KAAqB,WAArB,EAAkC;AAClC,iBAAK,GAAL,IAAY,MAAK,GAAL,CAAZ,CADkC;SAAtC;AAGA,eAAO,IAAP,CAJ0C;KAAd,EAK9B,EALM,CAAR,CAFgB;CAApB;;IAWqB;AACjB,aADiB,WACjB,CAAY,KAAZ,EAAmB;8BADF,aACE;;AAEf,gBAAQ,SAAS,EAAT,CAFO;AAGf,aAAK,KAAL,GAAa,MAAM,KAAN;KAHjB;AAAmB;iBADF;;gCAQV;AACN,mBAAQ,OAAO,IAAP,CAAR,CADM;;;;8BAID,OAAM;AACR,mBAAO,OAAO,MAAP,CAAc,IAAd,EAAmB,OAAO,KAAP,CAAnB,CAAP,CADQ;;;;6BAGN,OAAM;;;AACR,mBAAO,IAAP,CAAY,IAAZ,EAAkB,OAAlB,CAA0B,UAAC,GAAD,EAAS;AAC/B,uBAAK,GAAL,IAAY,OAAQ,OAAK,GAAL,CAAP,KAAqB,WAArB,GAAoC,MAAM,GAAN,CAArC,GAAkD,OAAK,GAAL,CAAlD,CADmB;aAAT,CAA1B,CADQ;AAIR,mBAAO,IAAP,CAJQ;;;;gCAMJ,OAAM;AACV,iBAAK,KAAL,GAAa,MAAM,KAAN,IAAe,KAAK,KAAL,CADlB;;;;WArBG","file":"editor-state.js","sourcesContent":["/*\n* Remove undefined keys and return a POJO;\n*/\nfunction _prune(obj){\n    obj = (typeof obj === \"object\")? obj : {};\n    return  Object.keys(obj).reduce((pojo,key) => {\n        if (typeof this[key] !== 'undefined') {\n            pojo[key] = this[key];\n        }\n        return pojo;\n    },{});\n}\n\n\nexport default class EditorState {\n    constructor(state) {\n\n        state = state || {};\n        this.image = state.image; //pixels\n\n    }\n\n    prune(){\n     return  _prune(this);\n    }\n\n    merge(state){\n        return Object.assign(this,_prune(state));\n    }\n    fill (state){\n        Object.keys(this).forEach((key) => {\n            this[key] = (typeof this[key] === \"undefined\") ? state[key] : this[key];\n        });\n        return this;\n    }\n    combine(state){\n        this.image = state.image || this.image;\n\n    }\n}"]}